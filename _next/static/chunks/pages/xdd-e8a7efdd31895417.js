(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[539],{6686:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/xdd",function(){return n(374)}])},374:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return We}});var r=n(5893),i=n(7294),o=n(4068),a=n(4051),c=n.n(a),s=n(9669),l=n.n(s),u=n(4941);function d(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){d(o,r,i,a,c,"next",e)}function c(e){d(o,r,i,a,c,"throw",e)}a(void 0)}))}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}function m(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function y(e){var t=e.inputValue,n=e.initiateSearch,i=e.handleInputValueChange,o=e.placeholder,a=void 0===o?"Enter a search term":o,c=e.leftIcon,s=void 0===c?"search":c,l=e.rightElement,d=void 0===l?(0,r.jsx)(b,{onClick:n}):l,f=e.style,p=void 0===f?{flex:"0"}:f;return(0,r.jsx)(u.BZ,{style:h({},p),placeholder:a,leftIcon:s,value:t,rightElement:d,onChange:i,onKeyPress:function(e){"Enter"===e.key&&n()}})}function v(e){var t=e.pub,n=t.title,o=t.journal,a=(t.author,t.identifier),c=m(t,["title","journal","author","identifier"]),s=(0,i.useContext)(Le),l=(s.state,s.runAction),d=function(e){var t;return e.map((function(e){"doi"==e.type&&(t=e.id)})),t}(a);return(0,r.jsxs)(u.Zb,{className:"pubcard",onClick:function(){var e=c._gddid;l({type:"set_docid",payload:{docid:e}})},interactive:!0,elevation:1,children:[(0,r.jsx)(u.JO,{icon:"book",style:{marginTop:"5px",marginRight:"5px"}}),(0,r.jsxs)("div",{className:"pub-info",children:[(0,r.jsx)("div",{className:"pub-title",children:n}),(0,r.jsx)("div",{className:"doi",children:d}),(0,r.jsx)("div",{className:"journal",children:o})]})]})}function b(e){var t=e.onClick;return(0,r.jsx)(u.zx,{minimal:!0,icon:"arrow-right",onClick:t,style:{borderTopRightRadius:"10px",borderBottomRightRadius:"10px"}})}function x(e){return e.toUpperCase()!=e.toLowerCase()}var j=function(e){var t=0,n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){x(o.value)&&(t+=1)}}catch(c){r=!0,i=c}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t/e.length>.7};function w(e){return g.apply(this,arguments)}function g(){return(g=f(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://xdd.wisc.edu/api/articles",n=j(t)?{title_like:t,max:20}:{doi:t,max:20},e.next=4,l().get("https://xdd.wisc.edu/api/articles",{params:h({},n)});case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){var t=e.data;return null==t?(0,r.jsx)(I,{title:"Search publications",description:"Search the xDD database for a publication to get started. Search by terms, phrases, or DOI's."}):0==t.length?(0,r.jsx)(P,{}):(0,r.jsx)("ul",{className:"list",children:t.length>0?t.map((function(e,t){return(0,r.jsx)("li",{children:(0,r.jsx)(v,{pub:e},t)},t)})):null})}function k(){var e=(0,i.useState)(""),t=e[0],n=e[1],o=(0,i.useState)(null),a=o[0],s=o[1],l=(0,i.useState)(!1),d=l[0],p=l[1];function h(){return(h=f(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>0)){e.next=8;break}return p(!0),e.next=4,w(t);case 4:(n=e.sent).success&&(s(n.success.data),p(!1)),e.next=9;break;case 8:s(null);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,i.useEffect)((function(){""==t&&s(null)}),[t]),(0,r.jsxs)("div",{className:"landing-search",children:[(0,r.jsx)("h1",{className:"xdd-title",children:"xDD"}),(0,r.jsx)("h4",{className:"xdd-subtitle",children:"A Digitial assistant to extract knowledge from the published literature"}),(0,r.jsx)(y,{placeholder:"Search by term, phrase, or DOI",initiateSearch:function(){return h.apply(this,arguments)},inputValue:t,handleInputValueChange:function(e){n(e.target.value)}}),(0,r.jsx)("div",{className:"list-container tall",children:d?(0,r.jsx)(u.$j,{}):(0,r.jsx)(_,{data:a})})]})}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,i)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){S(o,r,i,a,c,"next",e)}function c(e){S(o,r,i,a,c,"throw",e)}a(void 0)}))}}function C(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var N="https://xdd.wisc.edu/api/snippets";function P(){return(0,r.jsx)(u.UW,{"data-testid":"no-results-callout",intent:"danger",style:{width:"95%"},title:"No Results",children:"Looks like there are no \n  snippets associated with term searched. Try another term by either clicking on a known term or typing one\n  in yourself."})}function I(e){var t=e.title,n=e.description;return(0,r.jsx)(u.UW,{"data-testid":"default-callout",intent:"primary",title:t,style:{width:"95%"},children:n})}function E(e){var t=e.term,n=e.onClick;return(0,r.jsxs)(u.UW,{intent:"success",title:"New term?",style:{width:"95%"},children:["It looks like you've entered a new term not in the known term set! Would you like to add ",(0,r.jsx)("b",{children:t})," to the set?"," ",(0,r.jsxs)(u.zx,{intent:"success",onClick:n,children:["Add ",t]})]})}var D=function(e){var t=e.highlight;return(0,r.jsxs)(u.Zb,{className:"snippet-card",elevation:1,children:[(0,r.jsx)("li",{dangerouslySetInnerHTML:{__html:t}}),";"]})},T=function(e){var t=e.highlights,n=e.term,o=(0,i.useContext)(Le),a=o.state,c=o.runAction,s=a.known_terms;if(null==t)return(0,r.jsx)(I,{title:"No paper snippets",description:"Search for paper snippets by either clicking on a \n     known term in the left panel or by keyword searching."});var l=!L(n,s);if(0==t.length)return(0,r.jsx)(P,{});return(0,r.jsxs)("ul",{className:"list",children:[l?(0,r.jsx)(E,{term:n,onClick:function(){c({type:"add_new_term",payload:{snippet_term:n}})}}):null,t.map((function(e,t){return(0,r.jsx)(D,{highlight:e},t)}))]})};function R(e){return V.apply(this,arguments)}function V(){return(V=A(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get(N,{params:{docid:t.docid,term:t.snippets_term,fragment_limit:20}});case 2:return n=e.sent,r=[],n.data.success&&n.data.success.data.map((function(e){r=C(r).concat(C(e.highlight))})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=function(e,t){var n=Object.values(t),r=[];return n.map((function(e){r=C(r).concat(C(e))})),r=r.map((function(e){return e.toLowerCase()})),e=e.toLowerCase(),r.includes(e)};function U(){var e=(0,i.useContext)(Le),t=e.state,n=e.runAction,o=t.docid,a=t.snippet_term,s=(0,i.useState)(!1),l=s[0],d=s[1],f=(0,i.useState)(a),p=f[0],h=f[1],m=(0,i.useState)(null),v=m[0],b=m[1],x=(0,i.useState)(null),j=x[0],w=x[1],g=function(){var e=A(c().mark((function e(){var t,r,i=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=(t=i.length>0&&void 0!==i[0]?i[0]:p)){e.next=5;break}b(null),e.next=13;break;case 5:return n({type:"add_recent_term",payload:{snippet_term:t}}),w(t),d(!0),e.next=10,R({docid:o,snippets_term:t});case 10:r=e.sent,b(r),d(!1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){a.length>0&&(h(a),g(a))}),[a]),(0,i.useEffect)((function(){""==p&&b(null)}),[p]),(0,i.useEffect)((function(){h(""),b(null)}),[o]);return(0,r.jsxs)("div",{className:"snippets-container",children:[(0,r.jsx)("h2",{style:{marginBottom:"5px"},children:"Paper Snippets"}),(0,r.jsx)(y,{style:{flex:"0",width:"100%"},initiateSearch:g,inputValue:p,placeholder:"Search paper snippets by term",handleInputValueChange:function(e){h(e.target.value)}}),(0,r.jsx)("div",{className:"list-container",children:l?(0,r.jsx)(u.$j,{}):(0,r.jsx)(T,{highlights:v,term:j})})]})}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){z(e,t,n[t])}))}return e}function Z(e){var t=e.children,n=e.onDrop,i=void 0===n?function(e){return console.log(e)}:n,o=e.id,a=e.data_id,c=void 0===a?"child_id":a,s=e.style,l=void 0===s?{}:s;return(0,r.jsx)("div",{id:o,onDrop:function(e){e.preventDefault();var t=JSON.parse(e.dataTransfer.getData(c));i(t,o)},onDragOver:function(e){e.preventDefault()},style:W({},l),children:t})}function M(e){var t=e.children,n=e.id,i=e.data,o=e.draggable,a=void 0===o||o,c=e.data_id,s=void 0===c?"child_id":c,l=e.width,u=void 0===l?"40%":l,d=a?{id:n,onDragStart:function(e){e.target;var t=JSON.stringify(i);e.dataTransfer.setData(s,t)},onDragOver:function(e){e.stopPropagation()},draggable:a}:{};return(0,r.jsx)("div",W({},d,{className:"drag-child",style:{width:u},children:t}))}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){B(e,t,n[t])}))}return e}function q(e){return function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(){return(0,r.jsx)("div",{style:{marginTop:"30px"},className:"non-ideal-state",children:(0,r.jsx)(u.tR,{icon:"archive",title:"Drag and drop terms to link",description:"To link terms, drag 2 links into this bin from known or recent\n              terms."})})}function X(){var e=(0,i.useContext)(Le).runAction,t=(0,i.useState)([]),n=t[0],o=t[1],a={onDrop:function(e){if(n.length<2){var t=q(n).concat([e]);o(t)}},id:"terms-container"};return(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{children:"Linkage Bin"}),(0,r.jsx)(Z,J({},a,{children:(0,r.jsxs)(u.Zb,{className:"linkage-bin",elevation:1,children:[(0,r.jsx)("div",{children:0==n.length?(0,r.jsx)(G,{}):(0,r.jsx)("div",{className:"link-terms",children:n.map((function(e,t){return(0,r.jsx)(he,{term:e,snippet:!1,onRemove:function(){return function(e){var t=q(n).filter((function(t,n){return n!=e}));o(t)}(t)},width:"100%"},t)}))})}),(0,r.jsx)("div",{children:(0,r.jsx)(u.zx,{intent:"success",disabled:2!=n.length,style:{borderRadius:"20px",margin:"10px"},onClick:function(){e({type:"set_linked_terms",payload:{linked_terms:n}}),o([])},children:"Link these terms"})})]})}))]})}function F(){var e=(0,i.useContext)(Le).state.linked_terms;return(0,r.jsx)(u.zx,{icon:"download",onClick:function(){if(e.length>0){var t=(new Date).toISOString();!function(e,t){var n="data:text/csv;charset=utf-8,"+e.map((function(e){return e.join(",")})).join("\n"),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t+".csv"),document.body.appendChild(r),r.click(),r.remove()}(e,"linked-terms-".concat(t))}},intent:"primary",style:{borderRadius:"20px",margin:"10px"},disabled:0==e.length,children:"Download"})}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){c=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e){var t=e.terms,n=e.onRemove,i=H(t,2),o=i[0],a=i[1];return(0,r.jsx)(u.Vp,{onRemove:n,className:"link-term-tag",large:!0,children:"[ ".concat(o,", ").concat(a," ]")})}function Y(){return(0,r.jsxs)("div",{className:"non-ideal-state",children:[(0,r.jsx)("div",{style:{marginBottom:"5vh"}}),(0,r.jsx)(u.tR,{title:"No terms linked",description:"Link terms by dragging a dropping terms into the above bin."})]})}function ee(){var e=(0,i.useContext)(Le),t=e.state,n=e.runAction,o=t.linked_terms;return(0,r.jsxs)("div",{className:"linked-terms",children:[(0,r.jsx)("h2",{children:"Linked Terms"}),(0,r.jsxs)(u.Zb,{className:"linked-terms-container",elevation:1,children:[(0,r.jsx)("div",{children:0==o.length?(0,r.jsx)(Y,{}):(0,r.jsx)("div",{children:o.map((function(e,t){return(0,r.jsx)("li",{children:(0,r.jsx)(Q,{terms:e,onRemove:function(){return function(e){n({type:"remove_linked_term",payload:{index:e}})}(t)}})},t)}))})}),(0,r.jsx)("div",{children:(0,r.jsx)(F,{})})]})]})}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ne(e){return function(e){if(Array.isArray(e))return te(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return te(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e){var t=(0,i.useState)([e.initialPanel]),n=t[0],o=t[1],a=i.useCallback((function(e){return o((function(t){return ne(t).concat([e])}))}),[]),c=i.useCallback((function(){return o((function(e){return e.slice(0,-1)}))}),[]);return(0,r.jsx)(u.Zb,{style:{margin:"0",padding:"0"},elevation:e.elevation||1,children:(0,r.jsx)(u.hg,{className:e.className,onOpen:a,onClose:c,renderActivePanelOnly:e.renderActivePanelOnly||!0,showPanelHeader:!0,stack:n})})}function ie(){return(0,r.jsx)(u.UW,{style:{width:"100%"},title:"No recent terms",children:"This area populates with recent terms used in the snippets search on the right."})}function oe(){var e=(0,i.useContext)(Le).state.recent_terms;return(0,r.jsx)(u.Zb,{className:"recent-terms-container",elevation:1,children:e.length>0?e.map((function(e,t){return(0,r.jsx)(he,{term:e,width:"33%"},t)})):(0,r.jsx)(ie,{})})}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ce(e,t,n[t])}))}return e}function le(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){c=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(c)throw i}}return o}}(e,t)||fe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e){return function(e){if(Array.isArray(e))return ae(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||fe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){if(e){if("string"===typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}function pe(e){e.isOpen;var t=e.title,n=le(e,["isOpen","title"]);return(0,r.jsx)("div",{className:"",children:(0,r.jsx)(u.zx,{onClick:n.onClick,minimal:!0,rightIcon:"chevron-right",style:se({},{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"baseline",fontSize:"18px"}),className:"button-text",children:t})})}function he(e){var t=(0,i.useContext)(Le).runAction,n=e.term,o=e.onRemove,a=void 0===o?void 0:o,c=e.snippet,s=void 0===c||c,l=e.width;return(0,r.jsx)(M,{id:"drag-child-".concat(n),data:n,width:l,children:(0,r.jsx)(u.Vp,{onClick:function(){s&&t({type:"set_snippet_term",payload:{snippet_term:n}})},round:!0,large:!0,onRemove:a,className:"term-tag",children:n})})}function me(e){var t=e.selectedVocab,n=e.terms[t];return n?(0,r.jsx)("div",{className:"terms-container",children:n.map((function(e,t){return(0,r.jsx)(he,{term:e},t)}))}):(0,r.jsx)("div",{})}var ye={props:{panelNumber:1},renderPanel:function(e){var t=(0,i.useContext)(Le).state.known_terms,n=e.openPanel,o=(0,i.useState)(""),a=o[0],c=o[1],s=(0,i.useState)(t),l=s[0],u=s[1];return console.log(l),(0,i.useEffect)((function(){u(t)}),[t]),(0,r.jsxs)("div",{className:"known-terms-list",children:[(0,r.jsx)(y,{inputValue:a,handleInputValueChange:function(e){c(e.target.value)},initiateSearch:function(){var e=function(e,t){if(""==t)return e;var n={};return Object.entries(e).map((function(e,r){var i=ue(e,2),o=i[0];i[1].map((function(e){e.toLowerCase().includes(t.toLowerCase())&&(n[o]=de(function(e,t,n){var r=e[t];return"undefined"!==typeof r?r:n}(n,o,[])).concat([e]))}))})),n}(t,a);u(e)},style:{borderRadius:"0px"}}),Object.entries(l).map((function(e,t){var i=ue(e,2),o=i[0];i[1];return(0,r.jsx)(pe,{title:o,onClick:function(){var e;n({props:{selectedVocab:e=o,terms:l},renderPanel:me,title:e})}},t)}))]})},title:"Choose a Vocabulary"};function ve(){return(0,r.jsxs)("div",{className:"known-terms",children:[(0,r.jsx)("div",{children:(0,r.jsx)("h2",{children:"Known Terms"})}),(0,r.jsx)(oe,{}),(0,r.jsx)(re,{initialPanel:ye,renderActivePanelOnly:!1,className:"terms-stack"})]})}var be=n(901);function xe(){var e=(0,i.useContext)(Le),t=e.state,n=e.runAction;console.log(t);return(0,r.jsx)(u.zx,{icon:"arrow-left",onClick:function(){n({type:"set_docid",payload:{docid:""}}),n({type:"reset_state"})},minimal:!0,children:"Return to Search"})}function je(){var e=(0,i.useContext)(Le),t=e.state,n=(e.runAction,t.paper),o=t.docid,a=n.title,c=n.url;n.doi,n.year,n.publisher,n.journal;return(0,r.jsx)(u.wp,{style:{position:"fixed",top:"0"},children:(0,r.jsxs)("div",{style:{width:"95vw"},children:[(0,r.jsxs)(u.wp.Group,{align:"left",children:[(0,r.jsx)(xe,{}),(0,r.jsx)(u.wp.Divider,{})]}),(0,r.jsx)(u.wp.Group,{children:(0,r.jsx)("h2",{className:"paper-title",children:a})}),(0,r.jsxs)(u.wp.Group,{align:"right",children:[(0,r.jsx)(be.u,{content:"Publisher page",children:(0,r.jsx)(u.zx,{onClick:function(){window.open(c,"_blank").focus()},minimal:!0,icon:"book"})}),(0,r.jsx)(be.u,{content:"xDD route",children:(0,r.jsx)(u.zx,{onClick:function(){var e="https://xdd.wisc.edu/api/articles?docid=".concat(o,"&known_terms=true");window.open(e,"_bank").focus()},minimal:!0,children:"xDD"})})]})]})})}function we(){return(0,r.jsxs)("div",{className:"linking-page",children:[(0,r.jsx)(je,{}),(0,r.jsxs)("div",{className:"page-content",children:[(0,r.jsx)(ve,{}),(0,r.jsxs)("div",{className:"left",children:[(0,r.jsxs)("div",{className:"linked",children:[(0,r.jsx)(X,{}),(0,r.jsx)(ee,{})]}),(0,r.jsx)("div",{className:"end",children:(0,r.jsx)(U,{})})]})]})]})}function ge(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,i)}function _e(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ge(o,r,i,a,c,"next",e)}function c(e){ge(o,r,i,a,c,"throw",e)}a(void 0)}))}}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ke(e,t,n[t])}))}return e}var Se=function(){var e=_e(c().mark((function e(t){var n,r,i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://xdd.wisc.edu/api/articles",n={docid:t,known_terms:!0},e.next=4,l().get("https://xdd.wisc.edu/api/articles",{params:n});case 4:return r=e.sent,i=r.data.success.data,o={},i.map((function(e){e.known_terms.map((function(e){o=Oe({},o,e)}))})),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=_e(c().mark((function e(t){var n,r,i,o,a,s,u,d,f,p,h;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://xdd.wisc.edu/api/articles",n={docid:t},e.next=4,l().get("https://xdd.wisc.edu/api/articles",{params:n});case 4:return r=e.sent,i=r.data.success.data[0],o=i.title,a=i.link,s=i.identifier,u=i.journal,d=i.publisher,f=i.year,p=a[0].url,s.map((function(e){"doi"==e.type&&(h=e.id)})),e.abrupt("return",{url:p,doi:h,title:o,journal:u,publisher:d,year:f});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ne(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,i)}function Pe(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Ne(o,r,i,a,c,"next",e)}function c(e){Ne(o,r,i,a,c,"throw",e)}a(void 0)}))}}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ie(e,t,n[t])}))}return e}function De(e){return function(e){if(Array.isArray(e))return Ce(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ce(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Te={docid:"",known_terms:{},snippet_term:"",paper:{doi:null,title:null,url:null,publisher:null,journal:null,year:null},linked_terms:[],recent_terms:[]};var Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"set_docid":return Ee({},e,{docid:t.payload.docid});case"set_known_terms":return Ee({},e,{known_terms:t.payload.known_terms});case"set_snippet_term":return console.log("In reducer",t.payload.snippet_term),Ee({},e,{snippet_term:t.payload.snippet_term});case"set_paper_meta":return console.log(t.payload),Ee({},e,{paper:t.payload.paper});case"set_linked_terms":var n=De(e.linked_terms).concat([t.payload.linked_terms]);return Ee({},e,{linked_terms:n});case"remove_linked_term":var r=t.payload.index,i=De(e.linked_terms);return i.splice(r,1),Ee({},e,{linked_terms:i});case"add_new_term":var o=Ee({},e.known_terms),a=Object.keys(o).includes("new_terms");return a?(o.new_terms=De(o.new_terms).concat([t.payload.snippet_term]),Ee({},e,{known_terms:o})):(o.new_terms=[t.payload.snippet_term],Ee({},e,{known_terms:o}));case"reset_state":return Ee({},Te);case"add_recent_term":var c=t.payload.snippet_term,s=e.recent_terms,l=new Set(De(s).concat([c])),u=Array.from(l.values());return u.length>6&&u.shift(),Ee({},e,{recent_terms:u});default:throw new Error("What does this mean?")}},Ve={state:Te,runAction:function(){return Pe(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}},Le=(0,i.createContext)(Ve);function Ue(e){var t=(0,i.useReducer)(Re,Te),n=t[0],o=function(e){return function(){var t=Pe(c().mark((function t(n){var r,i,o,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n.type,t.next="fetch_known_terms"===t.t0?3:"fetch_paper_meta"===t.t0?8:13;break;case 3:return r=n.payload.docid,t.next=6,Se(r);case 6:return i=t.sent,t.abrupt("return",e({type:"set_known_terms",payload:{known_terms:i}}));case 8:return o=n.payload.docid,t.next=11,Ae(o);case 11:return a=t.sent,t.abrupt("return",e({type:"set_paper_meta",payload:{paper:a}}));case 13:return t.abrupt("return",e(n));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t[1]);return(0,i.useEffect)((function(){""!=n.docid&&(o({type:"fetch_known_terms",payload:{docid:n.docid}}),o({type:"fetch_paper_meta",payload:{docid:n.docid}}))}),[n.docid]),(0,r.jsx)(Le.Provider,{value:{state:n,runAction:o},children:e.children})}function ze(){var e=(0,i.useContext)(Le).state.docid.length>0,t=e?"hidden-left":"visable-opacity",n=e?"visable":"hidden-right";return(0,r.jsxs)("div",{className:"page-container",children:[(0,r.jsx)("div",{className:t,children:(0,r.jsx)(k,{})}),(0,r.jsx)("div",{className:n,children:(0,r.jsx)(we,{})})]})}var We=function(){return(0,r.jsx)("div",{children:(0,r.jsxs)(Ue,{children:[(0,r.jsx)("div",{className:"home-btn-con",children:(0,r.jsx)(o.u,{})}),(0,r.jsx)(ze,{})]})})}},4068:function(e,t,n){"use strict";n.d(t,{h:function(){return h},u:function(){return p}});var r=n(174),i=n(3990),o=n(155),a=n(8193),c=n(7487),s=n.n(c),l=n(1664),u=(0,r.e2)(s());function d(e){return u("button.icon",{onClick:e.onClick},[e.icon])}function f(e){return u(l.default,{href:e.link},[u("button.icon",[e.icon])])}function p(){return u(f,{icon:u(a.V9Z),link:"/Idzikowski-Casey/"})}function h(){return u("div.header",[u(p),u("h1",["Wurdle(clone)"]),u("div",[u(d,{icon:u(o.WWT),onClick:function(){}}),u(d,{icon:u(i.cE9),onClick:function(){}})])])}},7487:function(e){e.exports={"letter-box":"wurdle_letter-box__hXNNC",letters:"wurdle_letters__Z_3FT","has-letter":"wurdle_has-letter__hfIce","quick-scale":"wurdle_quick-scale__DGeT0","dialog-container":"wurdle_dialog-container__bihAR",row:"wurdle_row__f_cwd",gray:"wurdle_gray__eIs2U","reveal-gray":"wurdle_reveal-gray__7_Lqq",green:"wurdle_green__eFnlg","reveal-green":"wurdle_reveal-green__0IxCW",white:"wurdle_white__MsOoo",yellow:"wurdle_yellow__yxxIm","reveal-yellow":"wurdle_reveal-yellow__h7gZk","app-container":"wurdle_app-container__AkJ5J",header:"wurdle_header__Cw_Fy",key:"wurdle_key__Itdr2",keyboard:"wurdle_keyboard__LXd9K","key-row":"wurdle_key-row__6BOfQ",icon:"wurdle_icon__gk1ER"}}},function(e){e.O(0,[260,617,609,194,941,290,774,888,179],(function(){return t=6686,e(e.s=t);var t}));var t=e.O();_N_E=t}]);